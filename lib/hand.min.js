(function(){var n,e,t,r;n=function(n){var l,a,u,o,h,i;for(null==n&&(n=[]),n=n.filter(function(n){var e;return e=r.indexOf(n.rank),e>-1&&n.suit}),l={cards:n,name:"nothing",value:0},i=t(n,5),a=0,u=i.length;u>a;a++)h=i[a],o=e(h),l.value<o.value&&(l=o);return l},r=["2","3","4","5","6","7","8","9","10","jack","queen","king","ace"],t=function(n,e){var r,l,a,u,o,h,i,f,g,s,c,d;if(e>n.length)return[];if(e===n.length)return[n];if(1===e){for(s=[],u=0,h=n.length;h>u;u++)r=n[u],s.push([r]);return s}for(s=[],a=o=0,g=n.length-e;g>=o;a=o+=1)for(l=n.slice(a,a+1),d=t(n.slice(a+1),e-1),f=0,i=d.length;i>f;f++)c=d[f],s.push(l.concat(c));return s},e=function(n){var e,t,l,a,u,o,h,i,f,g,s,c,d,m,v,p,k,x,O;for(d=[],t=!0,l=a=0,o=n.length;o>a;l=++a)e=n[l],l>0&&e.suit!==n[l-1].suit&&(t=!1),f=r.indexOf(e.rank),null==d[f]&&(d[f]=[]),d[f].push(e);for(d=d.filter(function(n){return void 0!==n}),d.reverse(),d.sort(function(n,e){return n.length>e.length?-1:n.length<e.length?1:0}),g=r.indexOf(d[0][0].rank),d[4]&&(s=r.indexOf(d[4][0].rank)),k=s&&g-s===4,v={cards:n},O=0,k&&t&&12===g?(v.name="royal flush",O=9):k&&t?(v.name="straight flush",O=8):4===d[0].length?(v.name="four of a kind",O=7):3===d[0].length&&2===d[1].length?(v.name="full house",O=6):t?(v.name="flush",O=5):k?(v.name="straight",O=4):3===d[0].length?(v.name="three of a kind",O=3):2===d[0].length&&2===d[1].length?(v.name="two pair",O=2):2===d[0].length?(v.name="one pair",O=1):v.name="high card",p="",u=0,h=d.length;h>u;u++)for(c=d[u],f=r.indexOf(c[0].rank),x=10>f?"0":"",x+=f,l=i=0,m=d.length-1;m>i;l=i+=1)p+=x;return v.value=1e10*O+parseInt(p),v},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:window.Hand=n}).call(this);