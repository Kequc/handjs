(function(){var n,e,t,r,a=[].slice;n=function(){var n,l,u,h,o,i,f;for(l=1<=arguments.length?a.call(arguments,0):[],l=[].concat.apply([],l),l=l.filter(function(n){var e;return e=r.indexOf(n.rank),e>-1&&n.suit}),n={cards:l,name:"nothing",value:0},f=t(l,5),u=0,h=f.length;h>u;u++)i=f[u],o=e(i),n.value<o.value&&(n=o);return n},r=["2","3","4","5","6","7","8","9","10","jack","queen","king","ace"],t=function(n,e){var r,a,l,u,h,o,i,f,g,s,c,m;if(e>n.length)return[];if(e===n.length)return[n];if(1===e){for(s=[],u=0,o=n.length;o>u;u++)r=n[u],s.push([r]);return s}for(s=[],l=h=0,g=n.length-e;g>=h;l=h+=1)for(a=n.slice(l,l+1),m=t(n.slice(l+1),e-1),f=0,i=m.length;i>f;f++)c=m[f],s.push(a.concat(c));return s},e=function(n){var e,t,a,l,u,h,o,i,f,g,s,c,m,d,p,v,k,x,O;for(d=[],t=!0,a=l=0,h=n.length;h>l;a=++l)e=n[a],a>0&&e.suit!==n[a-1].suit&&(t=!1),g=r.indexOf(e.rank),null==d[g]&&(d[g]=[]),d[g].push(e);for(d=d.filter(function(n){return n}),d.reverse(),d.sort(function(n,e){return n.length>e.length?-1:n.length<e.length?1:0}),s=r.indexOf(d[0][0].rank),d[4]&&(c=r.indexOf(d[4][0].rank)),k=c&&s-c===4,p={cards:n},k&&t&&12===s?(p.name="royal flush",O=9):k&&t?(p.name="straight flush",O=8):4===d[0].length?(p.name="four of a kind",O=7):3===d[0].length&&2===d[1].length?(p.name="full house",O=6):t?(p.name="flush",O=5):k?(p.name="straight",O=4):3===d[0].length?(p.name="three of a kind",O=3):2===d[0].length&&2===d[1].length?(p.name="two pair",O=2):2===d[0].length?(p.name="one pair",O=1):(p.name="high card",O=0),v="",u=0,o=d.length;o>u;u++)for(m=d[u],g=r.indexOf(m[0].rank),x=10>g?"0":"",x+=g,f=0,i=m.length;i>f;f++)e=m[f],v+=x;return p.value=1e10*O+parseInt(v),p},"object"==typeof module&&"object"==typeof module.exports?module.exports=n:window.Hand=n}).call(this);